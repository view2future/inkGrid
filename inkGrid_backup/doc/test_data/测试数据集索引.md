# inkGrid 测试数据集索引

## 目录结构

```
test_data/
├── README.md                          # 本索引文件
├── 楷书名帖测试数据集.md              # 楷书 20 件
├── 隶书名帖测试数据集.md              # 隶书 20 件
├── 篆书名帖测试数据集.md              # 篆书 20 件
└── database_import/
    ├── 楷书导入模板.json
    ├── 隶书导入模板.json
    └── 篆书导入模板.json
```

---

## 数据集概览

| 字体 | 数量 | 主要朝代 | 推荐优先 | 高难度 |
|-----|-----|---------|---------|-------|
| 楷书 | 20件 | 唐、魏晋南北朝、元明清 | 9成宫、多宝塔、玄秘塔 | 化度寺、瘗鹤铭 |
| 隶书 | 20件 | 东汉、西汉、清代 | 曹全碑、乙瑛碑、史晨碑 | 五凤刻石、石门颂 |
| 篆书 | 20件 | 商周、秦、清代 | 峄山刻石、邓石如、吴昌硕 | 殷墟甲骨、泰山刻石 |

---

## 推荐测试优先级

### 第一批：入门测试（建议最先实现）

| 字体 | 碑帖 | 理由 |
|-----|-----|-----|
| 楷书 | 九成宫醴泉铭 | 唐楷典范，界格清晰 |
| 楷书 | 多宝塔碑 | 笔画清晰，初学首选 |
| 楷书 | 玄秘塔碑 | 柳体标准范本 |
| 隶书 | 曹全碑 | 汉隶代表作，字口清晰 |
| 隶书 | 乙瑛碑 | 端庄匀停，法度严谨 |
| 隶书 | 史晨碑 | 平和中正 |
| 篆书 | 峄山刻石 | 小篆典范，保存较好 |
| 篆书 | 邓石如篆书 | 墨迹清晰 |

### 第二批：进阶测试

| 字体 | 碑帖 | 理由 |
|-----|-----|-----|
| 楷书 | 颜氏家庙碑 | 颜体成熟期 |
| 楷书 | 颜勤礼碑 | 晚年代表作 |
| 楷书 | 雁塔圣教序 | 褚体典范 |
| 楷书 | 张猛龙碑 | 魏碑第一 |
| 隶书 | 张迁碑 | 与曹全对比学习 |
| 隶书 | 礼器碑 | 瘦劲挺拔 |
| 隶书 | 石门颂 | 摩崖风格 |
| 篆书 | 毛公鼎铭文 | 金文最长铭文 |
| 篆书 | 散氏盘铭文 | 金文个性之作 |
| 篆书 | 石鼓文 | 大篆代表 |

### 第三批：高难度挑战

| 字体 | 碑帖 | 难点 |
|-----|-----|-----|
| 楷书 | 化度寺碑 | 原碑已毁，残本碎片化 |
| 楷书 | 瘗鹤铭 | 摩崖风化严重 |
| 隶书 | 五凤刻石 | 西汉早期，篆隶过渡 |
| 隶书 | 封龙山颂 | 摩崖刻石 |
| 篆书 | 殷墟甲骨文 | 字形微小(2-5mm) |
| 篆书 | 泰山刻石 | 仅存残石 |
| 篆书 | 石鼓文 | 风化严重 |

---

## IIIF 数据源汇总

| 机构 | 数据类型 | API |
|-----|---------|-----|
| 故宫博物院 | 书画、碑帖、善本 | IIIF Image/Presentation API |
| 西安碑林 | 碑刻 | IIIF Image API |
| 台北故宫 | 青铜器、书画 | IIIF Image API |
| 山东曲阜 | 孔庙碑刻 | IIIF Image API |
| 大都会博物馆 | 书画、青铜器 | IIIF Image API |

---

## 图片资源

测试用图片保存在 `images/` 目录下：

```
test_data/
├── README.md                          # 本索引文件
├── 楷书名帖测试数据集.md              # 楷书 20 件
├── 隶书名帖测试数据集.md              # 隶书 20 件
├── 篆书名帖测试数据集.md              # 篆书 20 件
├── images/                            # 测试图片目录
│   ├── 图片资源索引.md                # 图片资源详细索引
│   ├── download.sh                    # 批量下载脚本
│   ├── 楷书/                          # 楷书图片
│   │   ├── jiu-cheng-gong-li-quan-ming-01.jpg
│   │   └── ...
│   ├── 隶书/                          # 隶书图片
│   │   ├── cao-quan-bei-01.jpg       # ✅ 已下载 (7.8MB, 3472×4624)
│   │   └── ...
│   └── 篆书/                          # 篆书图片
│       └── ...
└── database_import/
    ├── 楷书导入模板.json
    ├── 隶书导入模板.json
    └── 篆书导入模板.json
```

### 已下载图片

| 碑帖 | 字体 | 文件大小 | 尺寸 | 来源 |
|-----|-----|---------|------|------|
| 曹全碑 | 隶书 | 7.8 MB | 3472×4624 | Wikimedia Commons |

### 待下载图片

| 碑帖 | 字体 | 优先级 | 来源 |
|-----|-----|-------|------|
| 九成宫醴泉铭 | 楷书 | ★★★ | 台北故宫/故宫 |
| 峄山刻石 | 篆书 | ★★★ | 集古作网 |
| 礼器碑 | 隶书 | ★★★ | 曲阜孔庙 |

### 下载命令

```bash
# 进入图片目录
cd test_data/images

# 运行下载脚本
chmod +x download.sh
./download.sh

# 或手动下载曹全碑
curl -L -o 隶书/cao-quan-bei-01.jpg \
  "https://commons.wikimedia.org/wiki/Special:FilePath/%E6%9B%B9%E5%85%A8%E7%A2%91-%E4%B8%9C%E6%B1%89%E4%B8%AD%E5%B9%B3%E4%BA%8C%E5%B9%B4%EF%BC%88185%EF%BC%89-%E8%A5%BF%E5%AE%89%E7%A2%91%E6%9E%97%E7%AC%AC%E4%B8%89%E5%AE%A4_2023-09-29_01.jpg"
```

### IIIF 协议

如需处理超高分辨率图片，建议使用 IIIF 协议：

```python
import requests

def get_iiif_region(manifest_url, region='full', size='500,'):
    """获取 IIIF 图片区域"""
    info = requests.get(manifest_url.replace('/manifest.json', '/info.json')).json()
    return info['@id'] + f'/{region}/{size}/0/default.jpg'
```

### 楷书数据库导入模板

```json
{
  "tablets": [
    {
      "id": "kai_001",
      "name": "九成宫醴泉铭",
      "calligrapher": "欧阳询",
      "dynasty": "唐",
      "year": "632年",
      "type": "碑刻",
      "location": "陕西麟游",
      "style": "楷书",
      "difficulty": 3,
      "has_grid": false,
      "recommended": true,
      "images": [
        {
          "url": "https://iiif.example.com/kai_001/full/500,/0/default.jpg",
          "width": 10000,
          "height": 5000,
          "iiif_manifest": "https://iiif.example.com/kai_001/manifest.json"
        }
      ]
    }
  ]
}
```

### 隶书数据库导入模板

```json
{
  "tablets": [
    {
      "id": "li_001",
      "name": "曹全碑",
      "calligrapher": "不可考",
      "dynasty": "东汉",
      "year": "185年",
      "type": "碑刻",
      "location": "陕西西安碑林",
      "style": "隶书",
      "difficulty": 2,
      "has_grid": false,
      "recommended": true,
      "script_type": "汉隶",
      "images": [
        {
          "url": "https://iiif.example.com/li_001/full/500,/0/default.jpg",
          "width": 2000,
          "height": 4000,
          "iiif_manifest": "https://iiif.example.com/li_001/manifest.json"
        }
      ]
    }
  ]
}
```

### 篆书数据库导入模板

```json
{
  "tablets": [
    {
      "id": "zhuan_001",
      "name": "泰山刻石",
      "calligrapher": "李斯（传）",
      "dynasty": "秦",
      "year": "前219年",
      "type": "碑刻",
      "location": "山东泰安",
      "style": "篆书",
      "difficulty": 5,
      "has_grid": false,
      "recommended": true,
      "script_type": "小篆",
      "images": [
        {
          "url": "https://iiif.example.com/zhuan_001/full/500,/0/default.jpg",
          "width": 500,
          "height": 1000,
          "note": "仅存残石，建议使用精良拓片"
        }
      ]
    }
  ]
}
```

---

## 测试场景覆盖

### 场景一：标准碑刻（无界格）

**推荐碑帖**:
- 九成宫醴泉铭（楷）
- 曹全碑（隶）
- 毛公鼎铭文（金文）

**测试重点**:
- YOLOv8n-seg-CAA 实例分割
- 坐标感知注意力机制
- 背景噪声处理

---

### 场景二：格内碑帖（优先落地）

**推荐碑帖**:
- 九成宫醴泉铭（实际有界格）
- 颜勤礼碑（有界格版本）

**测试重点**:
- Grid-to-VLM 混合架构
- 霍夫变换界格检测
- IIIF 动态切图

---

### 场景三：摩崖刻石

**推荐碑帖**:
- 石门颂（隶）
- 瘗鹤铭（楷）
- 石鼓文（篆）

**测试重点**:
- 复杂背景处理
- 图像增强
- 残损字形识别

---

### 场景四：金文/青铜器

**推荐碑帖**:
- 毛公鼎铭文
- 散氏盘铭文
- 虢季子白盘铭文

**测试重点**:
- 立体铭文拍摄
- 光照补偿
- 锈蚀区域处理

---

### 场景五：甲骨文（最高难度）

**推荐碑帖**:
- 殷墟甲骨文

**测试重点**:
- 超高分辨率（1200dpi+）
- 微小字形检测
- 分散刻辞定位

---

## 验收标准

### 基础功能验收

| 功能 | 验收标准 | 测试碑帖 |
|-----|---------|---------|
| IIIF 图像加载 | < 200ms 首屏加载 | 任意 |
| 深度缩放 | 缩放响应 < 100ms | 九成宫 |
| 单字点击识别 | 识别准确率 > 90% | 曹全碑 |
| 语义关联 | Unihan/CC-CEDICT 匹配成功 | 楷书名帖 |
| 搜索功能 | CSTR-CLIP 检索召回率 > 80% | 全量 |

### 进阶功能验收

| 功能 | 验收标准 | 测试碑帖 |
|-----|---------|---------|
| AR 临摹 | 笔画比对误差 < 5% | 多宝塔碑 |
| 知识图谱 | 关联查询响应 < 500ms | 颜真卿相关 |
| 批量导入 | 1000碑帖 < 1小时 | 全量 |

---

## 版本历史

| 版本 | 日期 | 更新内容 |
|-----|------|---------|
| v1.0 | 2026-02-09 | 初始版本，楷隶篆各20件 |

---

**文档版本**: v1.0
**更新日期**: 2026-02-09
**维护者**: inkGrid 开发团队
